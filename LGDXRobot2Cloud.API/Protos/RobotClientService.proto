syntax = "proto3";

option csharp_namespace = "LGDXRobot2Cloud.Protos";

service RobotClientService {
  rpc Exchange (RpcRobotExchangeData) returns (ExchangeReturn);
  rpc CompleteProgress (CompleteToken) returns (ExchangeReturn);
  rpc AbortAutoTask (CompleteToken) returns (ResultMessage);
  rpc UpdateSystemInfo (RobotSystemInfo) returns (ResultMessage);
}

enum ResultStatus {
  Success = 0;
  Failed = 1;
}

message ResultMessage {
  ResultStatus Status = 1;
  string Message = 2;
}

message RobotPosition {
  double X = 1;
  double Y = 2;
  double W = 3;
}

message RpcRobotExchangeData {
  RobotPosition Position = 1;
  RobotPosition Velocity = 2;
  repeated double Batteries = 3;
  repeated bool EmergencyStopsEnabled = 4;
  bool GetTask = 5;
}

message TaskProgressDetail {
  int32 TaskId = 1;
  string TaskName = 2;
  int32 TaskProgressId = 3;
  string TaskProgressName = 4;
  repeated RobotPosition Waypoints = 5;
  string CompleteToken = 6;
}

message ExchangeReturn {
  ResultMessage Result = 1;
  TaskProgressDetail Task = 2;
}

message CompleteToken {
  int32 TaskId = 1;
  string Token = 2;
}

message RobotSystemInfo {
  string Cpu = 1;
  bool IsLittleEndian = 2;
  int32 RamMiB = 3;
  string Gpu = 4;
  string Os = 5;
  bool Is32Bit = 6;
}

