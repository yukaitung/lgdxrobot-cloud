syntax = "proto3";

option csharp_namespace = "LGDXRobot2Cloud.Protos";

service RobotClientService {
  rpc Exchange (RobotData) returns (ExchangeReturn);
  rpc CompleteProgress (CompleteToken) returns (ExchangeReturn);
  rpc AbortAutoTask (CompleteToken) returns (ExchangeReturn);
  rpc UpdateSpecification (RobotSpecification) returns (ResultMessage);
}

enum ResultStatus {
  Success = 0;
  Failed = 1;
}

message ResultMessage {
  ResultStatus Status = 1;
  string Message = 2;
}

message Dof {
  double X = 1;
  double Y = 2;
  double W = 3;
}

message RobotData {
  Dof Position = 1;
  Dof Velocity = 2;
  repeated double Batteries = 3;
  bool GetTask = 4;
}

message TaskProgressDetail {
  int32 TaskId = 1;
  string TaskName = 2;
  int32 TaskProgressId = 3;
  string TaskProgressName = 4;
  repeated Dof Waypoints = 5;
  string CompleteToken = 6;
}

message ExchangeReturn {
  ResultMessage Result = 1;
  TaskProgressDetail Task = 2;
}

message CompleteToken {
  int32 TaskId = 1;
  string Token = 2;
}

message RobotSpecification {
  SystemInfo SystemInfo = 1;
}

message SystemInfo {
  string Cpu = 1;
  bool IsLittleEndian = 2;
  int32 RamMiB = 3;
  string Gpu = 4;
  string Os = 5;
  bool Is32Bit = 6;
}

